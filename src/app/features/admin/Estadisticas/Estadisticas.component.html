<div class="stats-wrapper">
  <!-- Loading state -->
  <div *ngIf="loading" class="loading-container">
    <i class="fas fa-spinner fa-spin"></i>
    <p>Cargando estadÃ­sticas...</p>
  </div>

  <!-- Error state -->
  <div *ngIf="error" class="error-container">
    <i class="fas fa-exclamation-triangle"></i>
    <p>{{ error }}</p>
    <button (click)="cargarDatosDashboard()" class="btn-retry">Reintentar</button>
  </div>

  <!-- Main content -->
  <div *ngIf="!loading && !error">
    <!-- Summary Cards -->
    <div class="summary-cards" *ngIf="summaryCards.length > 0">
      <div *ngFor="let card of summaryCards" class="card" [class]="'card-' + card.color">
        <div class="card-icon">
          <i class="fas" [class]="card.icon"></i>
        </div>
        <div class="card-content">
          <h3>{{ card.value }}</h3>
          <p>{{ card.label }}</p>
        </div>
      </div>
    </div>

    <!-- Stats Container -->
    <div class="stats-container">
      <div class="stats-header">
        <h2>ğŸ“Š EstadÃ­sticas del Negocio</h2>
        <div class="filters">
          <label>Ver por:</label>
          <select [(ngModel)]="filtroTiempo" (change)="cambiarFiltro()">
            <option value="semana">Esta Semana</option>
            <option value="mes">Este Mes</option>
            <option value="anio">Este AÃ±o</option>
          </select>
        </div>
      </div>

      <div class="dashboard-grid">
        <!-- Platillos mÃ¡s vendidos -->
        <div class="chart-container">
          <h3>ğŸ± Platillos mÃ¡s vendidos</h3>
          <div class="chart-wrapper">
            <canvas #platillosChart></canvas>
          </div>
        </div>

        <!-- Bubbletea mÃ¡s vendidos -->
        <div class="chart-container">
          <h3>ğŸ§‹ Bubbletea Favoritos</h3>
          <div class="chart-wrapper">
            <canvas #bubbleteaChart></canvas>
          </div>
        </div>

        <!-- Ventas realizadas -->
        <div class="chart-container full-width">
          <h3>ğŸ’° Ventas Realizadas</h3>
          <div class="chart-wrapper">
            <canvas #ventasChart></canvas>
          </div>
        </div>

        <!-- Ventas por dÃ­a (del dashboard) -->
   

        <!-- Reservas de pedidos -->
     

        <!-- Top Productos -->
       
      </div>

      <!-- BotÃ³n Ver MÃ¡s -->
      <div class="actions-container">
        <button [routerLink]="['/admin/reportes']" class="btn-ver-mas">
          Ver mÃ¡s reportes â–¼
        </button>
      </div>
    </div>
  </div>
</div>
