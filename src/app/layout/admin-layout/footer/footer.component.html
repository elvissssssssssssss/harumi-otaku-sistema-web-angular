
<div  class="medio">  


<footer >
 

  <!-- CHATBOT CON IA PARA ADMIN -->
  <div class="ai-chatbot-wrapper">
    
    <!-- Bot칩n toggle con SVG del robot -->
    <div class="chatbot-toggle ai-toggle" (click)="toggleChatbot()">
      <svg viewBox="0 0 400 500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradientes para dar profundidad -->
    <linearGradient id="bodyGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f0f0f0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e0e0e0;stop-opacity:1" />
    </linearGradient>
    
    <radialGradient id="eyeGradient" cx="30%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#40e0d0;stop-opacity:1" />
      <stop offset="70%" style="stop-color:#00bcd4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#006064;stop-opacity:1" />
    </radialGradient>
    
    <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#40e0d0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00bcd4;stop-opacity:1" />
    </linearGradient>
    
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Antena -->
  <line x1="200" y1="50" x2="200" y2="80" stroke="#00bcd4" stroke-width="3" stroke-linecap="round"/>
  <circle cx="200" cy="45" r="6" fill="url(#blueGradient)" filter="url(#shadow)"/>
  
  <!-- Cuerpo principal (cabeza) -->
  <ellipse cx="200" cy="180" rx="100" ry="80" fill="url(#bodyGradient)" filter="url(#shadow)"/>
  
  <!-- Borde azul del cuerpo -->
  <ellipse cx="200" cy="180" rx="100" ry="80" fill="none" stroke="#00bcd4" stroke-width="4"/>
  
  <!-- Ojo izquierdo (m치s grande) -->
  <circle cx="170" cy="160" r="35" fill="#f0f0f0" filter="url(#shadow)"/>
  <circle cx="170" cy="160" r="30" fill="url(#eyeGradient)"/>
  <circle cx="170" cy="160" r="15" fill="#000000"/>
  <circle cx="175" cy="155" r="5" fill="#ffffff" opacity="0.8"/>
  
  <!-- Ojo derecho (m치s peque침o) -->
  <circle cx="230" cy="160" r="25" fill="#f0f0f0" filter="url(#shadow)"/>
  <circle cx="230" cy="160" r="20" fill="url(#eyeGradient)"/>
  <circle cx="230" cy="160" r="10" fill="#000000"/>
  <circle cx="233" cy="157" r="3" fill="#ffffff" opacity="0.8"/>
  
  <!-- Boca -->
  <ellipse cx="200" cy="210" rx="20" ry="15" fill="#2c2c2c"/>
  <ellipse cx="200" cy="208" rx="18" ry="12" fill="#ff6b6b"/>
  
  <!-- Dientes -->
  <rect x="185" y="203" width="6" height="8" fill="#ffffff" rx="2"/>
  <rect x="195" y="203" width="6" height="8" fill="#ffffff" rx="2"/>
  <rect x="205" y="203" width="6" height="8" fill="#ffffff" rx="2"/>
  <rect x="215" y="203" width="6" height="8" fill="#ffffff" rx="2"/>
  
  <!-- Lengua -->
  <ellipse cx="200" cy="215" rx="12" ry="6" fill="#ff8a80"/>
  
  <!-- Brazos -->
  <!-- Brazo izquierdo -->
  <ellipse cx="130" cy="220" rx="20" ry="40" fill="url(#bodyGradient)" filter="url(#shadow)"/>
  <ellipse cx="130" cy="220" rx="20" ry="40" fill="none" stroke="#00bcd4" stroke-width="3"/>
  
  <!-- Mano izquierda -->
  <circle cx="130" cy="270" r="18" fill="url(#blueGradient)" filter="url(#shadow)"/>
  <circle cx="125" cy="265" r="6" fill="url(#blueGradient)"/>
  <circle cx="135" cy="265" r="6" fill="url(#blueGradient)"/>
  <circle cx="125" cy="275" r="6" fill="url(#blueGradient)"/>
  <circle cx="135" cy="275" r="6" fill="url(#blueGradient)"/>
  
  <!-- Brazo derecho -->
  <ellipse cx="270" cy="220" rx="20" ry="40" fill="url(#bodyGradient)" filter="url(#shadow)"/>
  <ellipse cx="270" cy="220" rx="20" ry="40" fill="none" stroke="#00bcd4" stroke-width="3"/>
  
  <!-- Mano derecha -->
  <circle cx="270" cy="270" r="18" fill="url(#blueGradient)" filter="url(#shadow)"/>
  <circle cx="265" cy="265" r="6" fill="url(#blueGradient)"/>
  <circle cx="275" cy="265" r="6" fill="url(#blueGradient)"/>
  <circle cx="265" cy="275" r="6" fill="url(#blueGradient)"/>
  <circle cx="275" cy="275" r="6" fill="url(#blueGradient)"/>
  
  <!-- Cuerpo inferior -->
  <rect x="150" y="250" width="100" height="80" rx="15" fill="url(#bodyGradient)" filter="url(#shadow)"/>
  <rect x="150" y="250" width="100" height="80" rx="15" fill="none" stroke="#00bcd4" stroke-width="4"/>
  
  <!-- Panel del pecho -->
  <rect x="170" y="270" width="60" height="40" rx="8" fill="#40e0d0" opacity="0.3"/>
  <circle cx="200" cy="290" r="8" fill="url(#blueGradient)"/>
  
  <!-- Piernas -->
  <!-- Pierna izquierda -->
  <rect x="160" y="330" width="25" height="60" rx="12" fill="url(#bodyGradient)" filter="url(#shadow)"/>
  <rect x="160" y="330" width="25" height="60" rx="12" fill="none" stroke="#00bcd4" stroke-width="3"/>
  
  <!-- Pierna derecha -->
  <rect x="215" y="330" width="25" height="60" rx="12" fill="url(#bodyGradient)" filter="url(#shadow)"/>
  <rect x="215" y="330" width="25" height="60" rx="12" fill="none" stroke="#00bcd4" stroke-width="3"/>
  
  <!-- Pies -->
  <!-- Pie izquierdo -->
  <ellipse cx="172" cy="420" rx="25" ry="15" fill="url(#blueGradient)" filter="url(#shadow)"/>
  <ellipse cx="172" cy="418" rx="20" ry="12" fill="#40e0d0"/>
  
  <!-- Pie derecho -->
  <ellipse cx="227" cy="420" rx="25" ry="15" fill="url(#blueGradient)" filter="url(#shadow)"/>
  <ellipse cx="227" cy="418" rx="20" ry="12" fill="#40e0d0"/>
  
  <!-- Detalles decorativos -->
  <circle cx="160" cy="280" r="3" fill="#00bcd4"/>
  <circle cx="240" cy="280" r="3" fill="#00bcd4"/>
  <circle cx="160" cy="300" r="3" fill="#00bcd4"/>
  <circle cx="240" cy="300" r="3" fill="#00bcd4"/>
  
  <!-- Aletas laterales de la cabeza -->
  <ellipse cx="120" cy="170" rx="12" ry="20" fill="url(#blueGradient)" filter="url(#shadow)"/>
  <ellipse cx="280" cy="170" rx="12" ry="20" fill="url(#blueGradient)" filter="url(#shadow)"/>
</svg>
      
      <!-- Badge de IA -->
      <div class="ai-badge">AI</div>
    </div>

    <!-- Contenedor del chat -->
    <div class="chatbot-container ai-chatbot" [class.show-chatbot]="isChatbotVisible">
      <div class="chatbot-header ai-header">
        <div class="chatbot-title">
          <div class="chatbot-logo">
            <i class="fas fa-brain"></i>
          </div>
          <div>
            <div class="chatbot-name">chat bot</div>
            <div class="chatbot-status">
              <span class="status-indicator"></span>
              {{ isLoading ? 'Procesando...' : 'En l칤nea' }}
            </div>
          </div>
        </div>
        <div class="header-actions">
          <i class="fas fa-redo" (click)="clearChat()" title="Limpiar chat"></i>
          <i class="fas fa-times" (click)="toggleChatbot()"></i>
        </div>
      </div>

      <div class="chatbot-body" #chatbotBody>
        <div *ngFor="let message of chatMessages" 
             class="message" 
             [class.bot-message]="message.role === 'assistant'"
             [class.user-message]="message.role === 'user'">
          <div class="message-content">{{ message.content }}</div>
          <div class="message-time">
            {{ message.timestamp | date:'HH:mm' }}
          </div>
        </div>

        <!-- Indicador de carga -->
        <div *ngIf="isLoading" class="message bot-message loading-message">
          <div class="typing-indicator">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </div>

      <div class="chatbot-actions">
        <div class="quick-replies-admin">
          <button class="quick-reply-btn" (click)="sendQuickReply('Estad칤sticas del sistema')">
            游늵 Estad칤sticas
          </button>
          <button class="quick-reply-btn" (click)="sendQuickReply('Usuarios activos')">
            游논 Usuarios
          </button>
          <button class="quick-reply-btn" (click)="sendQuickReply('Ayuda con configuraci칩n')">
            丘뙖잺 Config
          </button>
        </div>

        <div class="chatbot-input">
          <input type="text" 
                 placeholder="Escribe tu mensaje..." 
                 [(ngModel)]="messageInput" 
                 (keyup)="handleKeyup($event)"
                 [disabled]="isLoading">
          <i class="fas fa-paperclip"></i>
        </div>
        <button class="action-button ai-send-btn" 
                (click)="sendMessage()"
                [disabled]="isLoading || !messageInput.trim()">
          <i class="fas" [ngClass]="isLoading ? 'fa-spinner fa-spin' : 'fa-paper-plane'"></i>
        </button>
      </div>
    </div>
  </div>
</footer>

 </div>